load(
    "@wfa_common_jvm//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing:macros.bzl",
    "spanner_emulator_test",
)

spanner_emulator_test(
    name = "EdpAggregatorSchemaTest",
    srcs = ["EdpAggregatorSchemaTest.kt"],
    test_class = "org.wfanet.measurement.edpaggregator.deploy.gcloud.spanner.EdpAggregatorSchemaTest",
    deps = [
        "//src/main/kotlin/org/wfanet/measurement/edpaggregator/deploy/gcloud/spanner/testing:schemata",
        "@wfa_common_jvm//imports/java/com/google/cloud/spanner",
        "@wfa_common_jvm//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing",
    ],
)

spanner_emulator_test(
    name = "SpannerImpressionMetadataServiceTest",
    srcs = ["SpannerImpressionMetadataServiceTest.kt"],
    test_class = "org.wfanet.measurement.edpaggregator.deploy.gcloud.spanner.SpannerImpressionMetadataServiceTest",
    deps = [
        "//src/main/kotlin/org/wfanet/measurement/edpaggregator/deploy/gcloud/spanner:spanner_impression_metadata_service",
        "//src/main/kotlin/org/wfanet/measurement/edpaggregator/deploy/gcloud/spanner/testing:schemata",
        "//src/main/kotlin/org/wfanet/measurement/edpaggregator/service/internal/testing:impression_metadata_service_test",
        "@wfa_common_jvm//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing",
    ],
)

spanner_emulator_test(
    name = "SpannerRequisitionMetadataServiceTest",
    srcs = ["SpannerRequisitionMetadataServiceTest.kt"],
    test_class = "org.wfanet.measurement.edpaggregator.deploy.gcloud.spanner.SpannerRequisitionMetadataServiceTest",
    deps = [
        "//src/main/kotlin/org/wfanet/measurement/edpaggregator/deploy/gcloud/spanner:spanner_requisition_metadata_service",
        "//src/main/kotlin/org/wfanet/measurement/edpaggregator/deploy/gcloud/spanner/testing:schemata",
        "//src/main/kotlin/org/wfanet/measurement/edpaggregator/service/internal/testing:requisition_metadata_service_test",
        "@wfa_common_jvm//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing",
    ],
)
