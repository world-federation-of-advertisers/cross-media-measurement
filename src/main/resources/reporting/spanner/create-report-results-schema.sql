-- liquibase formatted sql

-- Copyright 2025 The Cross-Media Measurement Authors
--
-- Licensed under the Apache License, Version 2.0 (the "License");
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.

-- This changeset has not been integrated into the change log yet.
--changeset kungfucraig:9 dbms:cloudspanner
-- comment: Create ReportResults tables and make them usable for BasicReport results

-- Set protobuf FileDescriptorSet as a base64 string. This gets applied to the next DDL batch.
SET PROTO_DESCRIPTORS = 'Cs8DCkB3ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL2V2ZW50X3RlbXBsYXRlX2ZpZWxkLnByb3RvEiV3ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyIqkCChJFdmVudFRlbXBsYXRlRmllbGQSEgoEcGF0aBgBIAEoCVIEcGF0aBJaCgV2YWx1ZRgCIAEoCzJELndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuRXZlbnRUZW1wbGF0ZUZpZWxkLkZpZWxkVmFsdWVSBXZhbHVlGqIBCgpGaWVsZFZhbHVlEiMKDHN0cmluZ192YWx1ZRgBIAEoCUgAUgtzdHJpbmdWYWx1ZRIfCgplbnVtX3ZhbHVlGAIgASgJSABSCWVudW1WYWx1ZRIfCgpib29sX3ZhbHVlGAMgASgISABSCWJvb2xWYWx1ZRIhCgtmbG9hdF92YWx1ZRgEIAEoAkgAUgpmbG9hdFZhbHVlQgoKCHNlbGVjdG9yQjAKLG9yZy53ZmFuZXQubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyUAFiBnByb3RvMwq9Ago4d2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9ldmVudF9maWx0ZXIucHJvdG8SJXdmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIaQHdmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvZXZlbnRfdGVtcGxhdGVfZmllbGQucHJvdG8iXgoLRXZlbnRGaWx0ZXISTwoFdGVybXMYASADKAsyOS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkV2ZW50VGVtcGxhdGVGaWVsZFIFdGVybXNCMAosb3JnLndmYW5ldC5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjJQAWIGcHJvdG8zCqAEClB3ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL2ltcHJlc3Npb25fcXVhbGlmaWNhdGlvbl9maWx0ZXJfc3BlYy5wcm90bxIld2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mho4d2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9ldmVudF9maWx0ZXIucHJvdG8isAIKIUltcHJlc3Npb25RdWFsaWZpY2F0aW9uRmlsdGVyU3BlYxJxCgptZWRpYV90eXBlGAEgASgOMlIud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5JbXByZXNzaW9uUXVhbGlmaWNhdGlvbkZpbHRlclNwZWMuTWVkaWFUeXBlUgltZWRpYVR5cGUSTAoHZmlsdGVycxgCIAMoCzIyLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuRXZlbnRGaWx0ZXJSB2ZpbHRlcnMiSgoJTWVkaWFUeXBlEhoKFk1FRElBX1RZUEVfVU5TUEVDSUZJRUQQABIJCgVWSURFTxABEgsKB0RJU1BMQVkQAhIJCgVPVEhFUhADQjAKLG9yZy53ZmFuZXQubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyUAFiBnByb3RvMwqABApVd2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9yZXBvcnRpbmdfaW1wcmVzc2lvbl9xdWFsaWZpY2F0aW9uX2ZpbHRlci5wcm90bxIld2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52MhpQd2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9pbXByZXNzaW9uX3F1YWxpZmljYXRpb25fZmlsdGVyX3NwZWMucHJvdG8i8wEKJlJlcG9ydGluZ0ltcHJlc3Npb25RdWFsaWZpY2F0aW9uRmlsdGVyElwKK2V4dGVybmFsX2ltcHJlc3Npb25fcXVhbGlmaWNhdGlvbl9maWx0ZXJfaWQYASABKAlSJ2V4dGVybmFsSW1wcmVzc2lvblF1YWxpZmljYXRpb25GaWx0ZXJJZBJrCgxmaWx0ZXJfc3BlY3MYAiADKAsySC53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkltcHJlc3Npb25RdWFsaWZpY2F0aW9uRmlsdGVyU3BlY1ILZmlsdGVyU3BlY3NCMAosb3JnLndmYW5ldC5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjJQAWIGcHJvdG8zCtABChZnb29nbGUvdHlwZS9kYXRlLnByb3RvEgtnb29nbGUudHlwZSJCCgREYXRlEhIKBHllYXIYASABKAVSBHllYXISFAoFbW9udGgYAiABKAVSBW1vbnRoEhAKA2RheRgDIAEoBVIDZGF5Ql0KD2NvbS5nb29nbGUudHlwZUIJRGF0ZVByb3RvUAFaNGdvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvdHlwZS9kYXRlO2RhdGX4AQGiAgNHVFBiBnByb3RvMwr7AQoeZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uLnByb3RvEg9nb29nbGUucHJvdG9idWYiOgoIRHVyYXRpb24SGAoHc2Vjb25kcxgBIAEoA1IHc2Vjb25kcxIUCgVuYW5vcxgCIAEoBVIFbmFub3NCgwEKE2NvbS5nb29nbGUucHJvdG9idWZCDUR1cmF0aW9uUHJvdG9QAVoxZ29vZ2xlLmdvbGFuZy5vcmcvcHJvdG9idWYvdHlwZXMva25vd24vZHVyYXRpb25wYvgBAaICA0dQQqoCHkdvb2dsZS5Qcm90b2J1Zi5XZWxsS25vd25UeXBlc2IGcHJvdG8zCpwEChpnb29nbGUvdHlwZS9kYXRldGltZS5wcm90bxILZ29vZ2xlLnR5cGUaHmdvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5wcm90byKnAgoIRGF0ZVRpbWUSEgoEeWVhchgBIAEoBVIEeWVhchIUCgVtb250aBgCIAEoBVIFbW9udGgSEAoDZGF5GAMgASgFUgNkYXkSFAoFaG91cnMYBCABKAVSBWhvdXJzEhgKB21pbnV0ZXMYBSABKAVSB21pbnV0ZXMSGAoHc2Vjb25kcxgGIAEoBVIHc2Vjb25kcxIUCgVuYW5vcxgHIAEoBVIFbmFub3MSOgoKdXRjX29mZnNldBgIIAEoCzIZLmdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvbkgAUgl1dGNPZmZzZXQSNAoJdGltZV96b25lGAkgASgLMhUuZ29vZ2xlLnR5cGUuVGltZVpvbmVIAFIIdGltZVpvbmVCDQoLdGltZV9vZmZzZXQiNAoIVGltZVpvbmUSDgoCaWQYASABKAlSAmlkEhgKB3ZlcnNpb24YAiABKAlSB3ZlcnNpb25CaQoPY29tLmdvb2dsZS50eXBlQg1EYXRlVGltZVByb3RvUAFaPGdvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvdHlwZS9kYXRldGltZTtkYXRldGltZfgBAaICA0dUUGIGcHJvdG8zCtYCCj53ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL3JlcG9ydGluZ19pbnRlcnZhbC5wcm90bxIld2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52MhoWZ29vZ2xlL3R5cGUvZGF0ZS5wcm90bxoaZ29vZ2xlL3R5cGUvZGF0ZXRpbWUucHJvdG8ifwoRUmVwb3J0aW5nSW50ZXJ2YWwSOAoMcmVwb3J0X3N0YXJ0GAEgASgLMhUuZ29vZ2xlLnR5cGUuRGF0ZVRpbWVSC3JlcG9ydFN0YXJ0EjAKCnJlcG9ydF9lbmQYAiABKAsyES5nb29nbGUudHlwZS5EYXRlUglyZXBvcnRFbmRCMAosb3JnLndmYW5ldC5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjJQAWIGcHJvdG8zCqQCChtnb29nbGUvdHlwZS9kYXlvZndlZWsucHJvdG8SC2dvb2dsZS50eXBlKoQBCglEYXlPZldlZWsSGwoXREFZX09GX1dFRUtfVU5TUEVDSUZJRUQQABIKCgZNT05EQVkQARILCgdUVUVTREFZEAISDQoJV0VETkVTREFZEAMSDAoIVEhVUlNEQVkQBBIKCgZGUklEQVkQBRIMCghTQVRVUkRBWRAGEgoKBlNVTkRBWRAHQmkKD2NvbS5nb29nbGUudHlwZUIORGF5T2ZXZWVrUHJvdG9QAVo+Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy90eXBlL2RheW9md2VlaztkYXlvZndlZWuiAgNHVFBiBnByb3RvMwquAgpBd2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9tZXRyaWNfZnJlcXVlbmN5X3NwZWMucHJvdG8SJXdmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIaG2dvb2dsZS90eXBlL2RheW9md2Vlay5wcm90byJrChNNZXRyaWNGcmVxdWVuY3lTcGVjEjAKBndlZWtseRgBIAEoDjIWLmdvb2dsZS50eXBlLkRheU9mV2Vla0gAUgZ3ZWVrbHkSFgoFdG90YWwYAiABKAhIAFIFdG90YWxCCgoIc2VsZWN0b3JCMAosb3JnLndmYW5ldC5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjJQAWIGcHJvdG8zCvUGCjp3ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL3JlcG9ydGluZ191bml0LnByb3RvEiV3ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyIkQKD0RhdGFQcm92aWRlcktleRIxChVjbW1zX2RhdGFfcHJvdmlkZXJfaWQYASABKAlSEmNtbXNEYXRhUHJvdmlkZXJJZCKNAQoPUmVwb3J0aW5nU2V0S2V5Ej8KHGNtbXNfbWVhc3VyZW1lbnRfY29uc3VtZXJfaWQYASABKAlSGWNtbXNNZWFzdXJlbWVudENvbnN1bWVySWQSOQoZZXh0ZXJuYWxfcmVwb3J0aW5nX3NldF9pZBgCIAEoCVIWZXh0ZXJuYWxSZXBvcnRpbmdTZXRJZCL/AwoNUmVwb3J0aW5nVW5pdBJ1ChJkYXRhX3Byb3ZpZGVyX2tleXMYASABKAsyRS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlcG9ydGluZ1VuaXQuRGF0YVByb3ZpZGVyS2V5c0gAUhBkYXRhUHJvdmlkZXJLZXlzEnUKEnJlcG9ydGluZ19zZXRfS2V5cxgCIAEoCzJFLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0aW5nVW5pdC5SZXBvcnRpbmdTZXRLZXlzSABSEHJlcG9ydGluZ1NldEtleXMaeAoQRGF0YVByb3ZpZGVyS2V5cxJkChJkYXRhX3Byb3ZpZGVyX2tleXMYASADKAsyNi53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkRhdGFQcm92aWRlcktleVIQZGF0YVByb3ZpZGVyS2V5cxp4ChBSZXBvcnRpbmdTZXRLZXlzEmQKEnJlcG9ydGluZ19zZXRfa2V5cxgBIAMoCzI2LndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0aW5nU2V0S2V5UhByZXBvcnRpbmdTZXRLZXlzQgwKCkNvbXBvbmVudHNCMAosb3JnLndmYW5ldC5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjJQAWIGcHJvdG8zCqUXCj13ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL3Jlc3VsdF9ncm91cF9zcGVjLnByb3RvEiV3ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyGjh3ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL2V2ZW50X2ZpbHRlci5wcm90bxpBd2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9tZXRyaWNfZnJlcXVlbmN5X3NwZWMucHJvdG8aOndmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvcmVwb3J0aW5nX3VuaXQucHJvdG8i+AEKDURpbWVuc2lvblNwZWMSWQoIZ3JvdXBpbmcYAyABKAsyPS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkRpbWVuc2lvblNwZWMuR3JvdXBpbmdSCGdyb3VwaW5nEkwKB2ZpbHRlcnMYBCADKAsyMi53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkV2ZW50RmlsdGVyUgdmaWx0ZXJzGj4KCEdyb3VwaW5nEjIKFWV2ZW50X3RlbXBsYXRlX2ZpZWxkcxgBIAMoCVITZXZlbnRUZW1wbGF0ZUZpZWxkcyKMDwoVUmVzdWx0R3JvdXBNZXRyaWNTcGVjEicKD3BvcHVsYXRpb25fc2l6ZRgBIAEoCFIOcG9wdWxhdGlvblNpemUSfgoOcmVwb3J0aW5nX3VuaXQYAiABKAsyVy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwTWV0cmljU3BlYy5SZXBvcnRpbmdVbml0TWV0cmljU2V0U3BlY1INcmVwb3J0aW5nVW5pdBJxCgljb21wb25lbnQYAyABKAsyUy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwTWV0cmljU3BlYy5Db21wb25lbnRNZXRyaWNTZXRTcGVjUgljb21wb25lbnQSlgEKFmNvbXBvbmVudF9pbnRlcnNlY3Rpb24YBCABKAsyXy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwTWV0cmljU3BlYy5Db21wb25lbnRJbnRlcnNlY3Rpb25NZXRyaWNTZXRTcGVjUhVjb21wb25lbnRJbnRlcnNlY3Rpb24ahQIKEkJhc2ljTWV0cmljU2V0U3BlYxIUCgVyZWFjaBgBIAEoCFIFcmVhY2gSIwoNcGVyY2VudF9yZWFjaBgCIAEoCFIMcGVyY2VudFJlYWNoEiAKDGtfcGx1c19yZWFjaBgDIAEoBVIKa1BsdXNSZWFjaBIvChRwZXJjZW50X2tfcGx1c19yZWFjaBgEIAEoCFIRcGVyY2VudEtQbHVzUmVhY2gSKwoRYXZlcmFnZV9mcmVxdWVuY3kYBSABKAhSEGF2ZXJhZ2VGcmVxdWVuY3kSIAoLaW1wcmVzc2lvbnMYBiABKAhSC2ltcHJlc3Npb25zEhIKBGdycHMYByABKAhSBGdycHMawQIKGlJlcG9ydGluZ1VuaXRNZXRyaWNTZXRTcGVjEnYKDm5vbl9jdW11bGF0aXZlGAEgASgLMk8ud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cE1ldHJpY1NwZWMuQmFzaWNNZXRyaWNTZXRTcGVjUg1ub25DdW11bGF0aXZlEm8KCmN1bXVsYXRpdmUYAiABKAsyTy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwTWV0cmljU3BlYy5CYXNpY01ldHJpY1NldFNwZWNSCmN1bXVsYXRpdmUSOgoZc3RhY2tlZF9pbmNyZW1lbnRhbF9yZWFjaBgDIAEoCFIXc3RhY2tlZEluY3JlbWVudGFsUmVhY2gaKwoTVW5pcXVlTWV0cmljU2V0U3BlYxIUCgVyZWFjaBgBIAEoCFIFcmVhY2gahwQKFkNvbXBvbmVudE1ldHJpY1NldFNwZWMSdgoObm9uX2N1bXVsYXRpdmUYASABKAsyTy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwTWV0cmljU3BlYy5CYXNpY01ldHJpY1NldFNwZWNSDW5vbkN1bXVsYXRpdmUSbwoKY3VtdWxhdGl2ZRgCIAEoCzJPLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXBNZXRyaWNTcGVjLkJhc2ljTWV0cmljU2V0U3BlY1IKY3VtdWxhdGl2ZRKEAQoVbm9uX2N1bXVsYXRpdmVfdW5pcXVlGAMgASgLMlAud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cE1ldHJpY1NwZWMuVW5pcXVlTWV0cmljU2V0U3BlY1ITbm9uQ3VtdWxhdGl2ZVVuaXF1ZRJ9ChFjdW11bGF0aXZlX3VuaXF1ZRgEIAEoCzJQLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXBNZXRyaWNTcGVjLlVuaXF1ZU1ldHJpY1NldFNwZWNSEGN1bXVsYXRpdmVVbmlxdWUaugIKIkNvbXBvbmVudEludGVyc2VjdGlvbk1ldHJpY1NldFNwZWMSKwoRY29udHJpYnV0b3JfY291bnQYASADKAVSEGNvbnRyaWJ1dG9yQ291bnQSdgoObm9uX2N1bXVsYXRpdmUYAiABKAsyTy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwTWV0cmljU3BlYy5CYXNpY01ldHJpY1NldFNwZWNSDW5vbkN1bXVsYXRpdmUSbwoKY3VtdWxhdGl2ZRgDIAEoCzJPLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXBNZXRyaWNTcGVjLkJhc2ljTWV0cmljU2V0U3BlY1IKY3VtdWxhdGl2ZSK/AwoPUmVzdWx0R3JvdXBTcGVjEhQKBXRpdGxlGAEgASgJUgV0aXRsZRJbCg5yZXBvcnRpbmdfdW5pdBgCIAEoCzI0LndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0aW5nVW5pdFINcmVwb3J0aW5nVW5pdBJlChBtZXRyaWNfZnJlcXVlbmN5GAMgASgLMjoud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5NZXRyaWNGcmVxdWVuY3lTcGVjUg9tZXRyaWNGcmVxdWVuY3kSWwoOZGltZW5zaW9uX3NwZWMYBCABKAsyNC53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkRpbWVuc2lvblNwZWNSDWRpbWVuc2lvblNwZWMSdQoYcmVzdWx0X2dyb3VwX21ldHJpY19zcGVjGAUgASgLMjwud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cE1ldHJpY1NwZWNSFXJlc3VsdEdyb3VwTWV0cmljU3BlY0IwCixvcmcud2ZhbmV0Lm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52MlABYgZwcm90bzMKjwYKQHdmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvYmFzaWNfcmVwb3J0X2RldGFpbHMucHJvdG8SJXdmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIaVXdmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvcmVwb3J0aW5nX2ltcHJlc3Npb25fcXVhbGlmaWNhdGlvbl9maWx0ZXIucHJvdG8aPndmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvcmVwb3J0aW5nX2ludGVydmFsLnByb3RvGj13ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL3Jlc3VsdF9ncm91cF9zcGVjLnByb3RvIpMDChJCYXNpY1JlcG9ydERldGFpbHMSFAoFdGl0bGUYASABKAlSBXRpdGxlEpcBCiBpbXByZXNzaW9uX3F1YWxpZmljYXRpb25fZmlsdGVycxgCIAMoCzJNLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0aW5nSW1wcmVzc2lvblF1YWxpZmljYXRpb25GaWx0ZXJSHmltcHJlc3Npb25RdWFsaWZpY2F0aW9uRmlsdGVycxJnChJyZXBvcnRpbmdfaW50ZXJ2YWwYAyABKAsyOC53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlcG9ydGluZ0ludGVydmFsUhFyZXBvcnRpbmdJbnRlcnZhbBJkChJyZXN1bHRfZ3JvdXBfc3BlY3MYBCADKAsyNi53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwU3BlY1IQcmVzdWx0R3JvdXBTcGVjc0IwCixvcmcud2ZhbmV0Lm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52MlABYgZwcm90bzMK/wEKH2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiI7CglUaW1lc3RhbXASGAoHc2Vjb25kcxgBIAEoA1IHc2Vjb25kcxIUCgVuYW5vcxgCIAEoBVIFbmFub3NChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzMKlCMKOHdmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvcmVzdWx0X2dyb3VwLnByb3RvEiV3ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyGh9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvGjh3ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL2V2ZW50X2ZpbHRlci5wcm90bxpAd2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9ldmVudF90ZW1wbGF0ZV9maWVsZC5wcm90bxpBd2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9tZXRyaWNfZnJlcXVlbmN5X3NwZWMucHJvdG8aVXdmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvcmVwb3J0aW5nX2ltcHJlc3Npb25fcXVhbGlmaWNhdGlvbl9maWx0ZXIucHJvdG8ivx8KC1Jlc3VsdEdyb3VwEhQKBXRpdGxlGAEgASgJUgV0aXRsZRJTCgdyZXN1bHRzGAIgAygLMjkud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5SZXN1bHRSB3Jlc3VsdHMa1wwKDk1ldHJpY01ldGFkYXRhEowBChZyZXBvcnRpbmdfdW5pdF9zdW1tYXJ5GAEgASgLMlYud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNNZXRhZGF0YS5SZXBvcnRpbmdVbml0U3VtbWFyeVIUcmVwb3J0aW5nVW5pdFN1bW1hcnkSYgogbm9uX2N1bXVsYXRpdmVfbWV0cmljX3N0YXJ0X3RpbWUYAiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wUhxub25DdW11bGF0aXZlTWV0cmljU3RhcnRUaW1lElsKHGN1bXVsYXRpdmVfbWV0cmljX3N0YXJ0X3RpbWUYAyABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wUhljdW11bGF0aXZlTWV0cmljU3RhcnRUaW1lEkIKD21ldHJpY19lbmRfdGltZRgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBSDW1ldHJpY0VuZFRpbWUSbgoVbWV0cmljX2ZyZXF1ZW5jeV9zcGVjGAUgASgLMjoud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5NZXRyaWNGcmVxdWVuY3lTcGVjUhNtZXRyaWNGcmVxdWVuY3lTcGVjEowBChZkaW1lbnNpb25fc3BlY19zdW1tYXJ5GAYgASgLMlYud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNNZXRhZGF0YS5EaW1lbnNpb25TcGVjU3VtbWFyeVIUZGltZW5zaW9uU3BlY1N1bW1hcnkSZQoGZmlsdGVyGAcgASgLMk0ud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXBvcnRpbmdJbXByZXNzaW9uUXVhbGlmaWNhdGlvbkZpbHRlclIGZmlsdGVyGsYDCh1SZXBvcnRpbmdVbml0Q29tcG9uZW50U3VtbWFyeRIxChVjbW1zX2RhdGFfcHJvdmlkZXJfaWQYASABKAlSEmNtbXNEYXRhUHJvdmlkZXJJZBJECh9jbW1zX2RhdGFfcHJvdmlkZXJfZGlzcGxheV9uYW1lGAIgASgJUhtjbW1zRGF0YVByb3ZpZGVyRGlzcGxheU5hbWUSpQEKFWV2ZW50X2dyb3VwX3N1bW1hcmllcxgDIAMoCzJxLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXAuTWV0cmljTWV0YWRhdGEuUmVwb3J0aW5nVW5pdENvbXBvbmVudFN1bW1hcnkuRXZlbnRHcm91cFN1bW1hcnlSE2V2ZW50R3JvdXBTdW1tYXJpZXMagwEKEUV2ZW50R3JvdXBTdW1tYXJ5Ej8KHGNtbXNfbWVhc3VyZW1lbnRfY29uc3VtZXJfaWQYASABKAlSGWNtbXNNZWFzdXJlbWVudENvbnN1bWVySWQSLQoTY21tc19ldmVudF9ncm91cF9pZBgCIAEoCVIQY21tc0V2ZW50R3JvdXBJZBrBAQoUUmVwb3J0aW5nVW5pdFN1bW1hcnkSqAEKIHJlcG9ydGluZ191bml0X2NvbXBvbmVudF9zdW1tYXJ5GAEgAygLMl8ud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNNZXRhZGF0YS5SZXBvcnRpbmdVbml0Q29tcG9uZW50U3VtbWFyeVIdcmVwb3J0aW5nVW5pdENvbXBvbmVudFN1bW1hcnkavQEKFERpbWVuc2lvblNwZWNTdW1tYXJ5ElcKCWdyb3VwaW5ncxgBIAMoCzI5LndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuRXZlbnRUZW1wbGF0ZUZpZWxkUglncm91cGluZ3MSTAoHZmlsdGVycxgCIAMoCzIyLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuRXZlbnRGaWx0ZXJSB2ZpbHRlcnMaoxAKCU1ldHJpY1NldBInCg9wb3B1bGF0aW9uX3NpemUYASABKAVSDnBvcHVsYXRpb25TaXplEnoKDnJlcG9ydGluZ191bml0GAIgASgLMlMud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNTZXQuUmVwb3J0aW5nVW5pdE1ldHJpY1NldFINcmVwb3J0aW5nVW5pdBKDAQoKY29tcG9uZW50cxgDIAMoCzJjLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXAuTWV0cmljU2V0LkRhdGFQcm92aWRlckNvbXBvbmVudE1ldHJpY1NldE1hcEVudHJ5Ugpjb21wb25lbnRzEqABChdjb21wb25lbnRfaW50ZXJzZWN0aW9ucxgEIAMoCzJnLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXAuTWV0cmljU2V0LkRhdGFQcm92aWRlckNvbXBvbmVudEludGVyc2VjdGlvbk1ldHJpY1NldFIWY29tcG9uZW50SW50ZXJzZWN0aW9ucxqBAgoOQmFzaWNNZXRyaWNTZXQSFAoFcmVhY2gYASABKAVSBXJlYWNoEiMKDXBlcmNlbnRfcmVhY2gYAiABKAJSDHBlcmNlbnRSZWFjaBIgCgxrX3BsdXNfcmVhY2gYAyADKAVSCmtQbHVzUmVhY2gSLwoUcGVyY2VudF9rX3BsdXNfcmVhY2gYBCADKAJSEXBlcmNlbnRLUGx1c1JlYWNoEisKEWF2ZXJhZ2VfZnJlcXVlbmN5GAUgASgCUhBhdmVyYWdlRnJlcXVlbmN5EiAKC2ltcHJlc3Npb25zGAYgASgFUgtpbXByZXNzaW9ucxISCgRncnBzGAcgASgCUgRncnBzGrUCChZSZXBvcnRpbmdVbml0TWV0cmljU2V0EnIKDm5vbl9jdW11bGF0aXZlGAEgASgLMksud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNTZXQuQmFzaWNNZXRyaWNTZXRSDW5vbkN1bXVsYXRpdmUSawoKY3VtdWxhdGl2ZRgCIAEoCzJLLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXAuTWV0cmljU2V0LkJhc2ljTWV0cmljU2V0UgpjdW11bGF0aXZlEjoKGXN0YWNrZWRfaW5jcmVtZW50YWxfcmVhY2gYAyADKAVSF3N0YWNrZWRJbmNyZW1lbnRhbFJlYWNoGicKD1VuaXF1ZU1ldHJpY1NldBIUCgVyZWFjaBgBIAEoBVIFcmVhY2ga+QMKEkNvbXBvbmVudE1ldHJpY1NldBJyCg5ub25fY3VtdWxhdGl2ZRgBIAEoCzJLLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXAuTWV0cmljU2V0LkJhc2ljTWV0cmljU2V0Ug1ub25DdW11bGF0aXZlEmsKCmN1bXVsYXRpdmUYAiABKAsySy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwLk1ldHJpY1NldC5CYXNpY01ldHJpY1NldFIKY3VtdWxhdGl2ZRKAAQoVbm9uX2N1bXVsYXRpdmVfdW5pcXVlGAQgASgLMkwud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNTZXQuVW5pcXVlTWV0cmljU2V0UhNub25DdW11bGF0aXZlVW5pcXVlEnkKEWN1bXVsYXRpdmVfdW5pcXVlGAUgASgLMkwud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNTZXQuVW5pcXVlTWV0cmljU2V0UhBjdW11bGF0aXZlVW5pcXVlSgQIAxAEGqEBCiZEYXRhUHJvdmlkZXJDb21wb25lbnRNZXRyaWNTZXRNYXBFbnRyeRIQCgNrZXkYASABKAlSA2tleRJlCgV2YWx1ZRgCIAEoCzJPLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXAuTWV0cmljU2V0LkNvbXBvbmVudE1ldHJpY1NldFIFdmFsdWUawgIKKkRhdGFQcm92aWRlckNvbXBvbmVudEludGVyc2VjdGlvbk1ldHJpY1NldBIzChZjbW1zX2RhdGFfcHJvdmlkZXJfaWRzGAEgAygJUhNjbW1zRGF0YVByb3ZpZGVySWRzEnIKDm5vbl9jdW11bGF0aXZlGAIgASgLMksud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNTZXQuQmFzaWNNZXRyaWNTZXRSDW5vbkN1bXVsYXRpdmUSawoKY3VtdWxhdGl2ZRgDIAEoCzJLLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXAuTWV0cmljU2V0LkJhc2ljTWV0cmljU2V0UgpjdW11bGF0aXZlGsQBCgZSZXN1bHQSXQoIbWV0YWRhdGEYASABKAsyQS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwLk1ldHJpY01ldGFkYXRhUghtZXRhZGF0YRJbCgptZXRyaWNfc2V0GAIgASgLMjwud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXN1bHRHcm91cC5NZXRyaWNTZXRSCW1ldHJpY1NldEIwCixvcmcud2ZhbmV0Lm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52MlABYgZwcm90bzMK2QIKR3dmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvYmFzaWNfcmVwb3J0X3Jlc3VsdF9kZXRhaWxzLnByb3RvEiV3ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyGjh3ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL3Jlc3VsdF9ncm91cC5wcm90byJzChhCYXNpY1JlcG9ydFJlc3VsdERldGFpbHMSVwoNcmVzdWx0X2dyb3VwcxgBIAMoCzIyLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVzdWx0R3JvdXBSDHJlc3VsdEdyb3Vwc0IwCixvcmcud2ZhbmV0Lm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52MlABYgZwcm90bzMKkQQKS3dmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvaW1wcmVzc2lvbl9xdWFsaWZpY2F0aW9uX2ZpbHRlci5wcm90bxIld2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52MhpQd2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9pbXByZXNzaW9uX3F1YWxpZmljYXRpb25fZmlsdGVyX3NwZWMucHJvdG8i6gEKHUltcHJlc3Npb25RdWFsaWZpY2F0aW9uRmlsdGVyElwKK2V4dGVybmFsX2ltcHJlc3Npb25fcXVhbGlmaWNhdGlvbl9maWx0ZXJfaWQYASABKAlSJ2V4dGVybmFsSW1wcmVzc2lvblF1YWxpZmljYXRpb25GaWx0ZXJJZBJrCgxmaWx0ZXJfc3BlY3MYAiADKAsySC53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkltcHJlc3Npb25RdWFsaWZpY2F0aW9uRmlsdGVyU3BlY1ILZmlsdGVyU3BlY3NCVAosb3JnLndmYW5ldC5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjJCIkltcHJlc3Npb25RdWFsaWZpY2F0aW9uRmlsdGVyUHJvdG9QAWIGcHJvdG8zCr4BChtnb29nbGUvcHJvdG9idWYvZW1wdHkucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIHCgVFbXB0eUJ9ChNjb20uZ29vZ2xlLnByb3RvYnVmQgpFbXB0eVByb3RvUAFaLmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2VtcHR5cGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMwqDKgo5d2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9yZXBvcnRfcmVzdWx0LnByb3RvEiV3ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyGhZnb29nbGUvdHlwZS9kYXRlLnByb3RvGhpnb29nbGUvdHlwZS9kYXRldGltZS5wcm90bxo4d2ZhL21lYXN1cmVtZW50L2ludGVybmFsL3JlcG9ydGluZy92Mi9ldmVudF9maWx0ZXIucHJvdG8aQHdmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvZXZlbnRfdGVtcGxhdGVfZmllbGQucHJvdG8aQXdmYS9tZWFzdXJlbWVudC9pbnRlcm5hbC9yZXBvcnRpbmcvdjIvbWV0cmljX2ZyZXF1ZW5jeV9zcGVjLnByb3RvGjh3ZmEvbWVhc3VyZW1lbnQvaW50ZXJuYWwvcmVwb3J0aW5nL3YyL3Jlc3VsdF9ncm91cC5wcm90byLEJQoMUmVwb3J0UmVzdWx0Ej8KHGNtbXNfbWVhc3VyZW1lbnRfY29uc3VtZXJfaWQYASABKAlSGWNtbXNNZWFzdXJlbWVudENvbnN1bWVySWQSOQoZZXh0ZXJuYWxfcmVwb3J0X3Jlc3VsdF9pZBgCIAEoBlIWZXh0ZXJuYWxSZXBvcnRSZXN1bHRJZBI4CgxyZXBvcnRfc3RhcnQYAyABKAsyFS5nb29nbGUudHlwZS5EYXRlVGltZVILcmVwb3J0U3RhcnQSfwoVcmVwb3J0aW5nX3NldF9yZXN1bHRzGAQgAygLMksud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXBvcnRSZXN1bHQuUmVwb3J0aW5nU2V0UmVzdWx0RW50cnlSE3JlcG9ydGluZ1NldFJlc3VsdHMalgUKFVJlcG9ydGluZ1NldFJlc3VsdEtleRI5ChlleHRlcm5hbF9yZXBvcnRpbmdfc2V0X2lkGAEgASgJUhZleHRlcm5hbFJlcG9ydGluZ1NldElkEoIBChh2ZW5uX2RpYWdyYW1fcmVnaW9uX3R5cGUYAiABKA4ySS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlcG9ydFJlc3VsdC5WZW5uRGlhZ3JhbVJlZ2lvblR5cGVSFXZlbm5EaWFncmFtUmVnaW9uVHlwZRJeCitleHRlcm5hbF9pbXByZXNzaW9uX3F1YWxpZmljYXRpb25fZmlsdGVyX2lkGAMgASgJSABSJ2V4dGVybmFsSW1wcmVzc2lvblF1YWxpZmljYXRpb25GaWx0ZXJJZBIYCgZjdXN0b20YBCABKAhIAFIGY3VzdG9tEm4KFW1ldHJpY19mcmVxdWVuY3lfc3BlYxgFIAEoCzI6LndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuTWV0cmljRnJlcXVlbmN5U3BlY1ITbWV0cmljRnJlcXVlbmN5U3BlYxJXCglncm91cGluZ3MYBiADKAsyOS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkV2ZW50VGVtcGxhdGVGaWVsZFIJZ3JvdXBpbmdzElcKDWV2ZW50X2ZpbHRlcnMYByADKAsyMi53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLkV2ZW50RmlsdGVyUgxldmVudEZpbHRlcnNCIQofaW1wcmVzc2lvbl9xdWFsaWZpY2F0aW9uX2ZpbHRlchqvGwoSUmVwb3J0aW5nU2V0UmVzdWx0EicKD3BvcHVsYXRpb25fc2l6ZRgBIAEoBVIOcG9wdWxhdGlvblNpemUSlQEKGHJlcG9ydGluZ193aW5kb3dfcmVzdWx0cxgCIAMoCzJbLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dFbnRyeVIWcmVwb3J0aW5nV2luZG93UmVzdWx0cxp7Cg9SZXBvcnRpbmdXaW5kb3cSQwoUbm9uX2N1bXVsYXRpdmVfc3RhcnQYASABKAsyES5nb29nbGUudHlwZS5EYXRlUhJub25DdW11bGF0aXZlU3RhcnQSIwoDZW5kGAIgASgLMhEuZ29vZ2xlLnR5cGUuRGF0ZVIDZW5kGuMWChVSZXBvcnRpbmdXaW5kb3dSZXN1bHQSsQEKGm5vaXN5X3JlcG9ydF9yZXN1bHRfdmFsdWVzGAMgASgLMnQud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXBvcnRSZXN1bHQuUmVwb3J0aW5nU2V0UmVzdWx0LlJlcG9ydGluZ1dpbmRvd1Jlc3VsdC5Ob2lzeVJlcG9ydFJlc3VsdFZhbHVlc1IXbm9pc3lSZXBvcnRSZXN1bHRWYWx1ZXMSsgEKHWRlbm9pc2VkX3JlcG9ydF9yZXN1bHRfdmFsdWVzGAQgASgLMm8ud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXBvcnRSZXN1bHQuUmVwb3J0aW5nU2V0UmVzdWx0LlJlcG9ydGluZ1dpbmRvd1Jlc3VsdC5SZXBvcnRSZXN1bHRWYWx1ZXNSGmRlbm9pc2VkUmVwb3J0UmVzdWx0VmFsdWVzGskRChdOb2lzeVJlcG9ydFJlc3VsdFZhbHVlcxKzAQoSY3VtdWxhdGl2ZV9yZXN1bHRzGAEgASgLMoMBLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSZXN1bHQuTm9pc3lSZXBvcnRSZXN1bHRWYWx1ZXMuTm9pc3lNZXRyaWNTZXRSEWN1bXVsYXRpdmVSZXN1bHRzEroBChZub25fY3VtdWxhdGl2ZV9yZXN1bHRzGAIgASgLMoMBLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSZXN1bHQuTm9pc3lSZXBvcnRSZXN1bHRWYWx1ZXMuTm9pc3lNZXRyaWNTZXRSFG5vbkN1bXVsYXRpdmVSZXN1bHRzGroOCg5Ob2lzeU1ldHJpY1NldBKmAQoFcmVhY2gYASABKAsyjwEud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXBvcnRSZXN1bHQuUmVwb3J0aW5nU2V0UmVzdWx0LlJlcG9ydGluZ1dpbmRvd1Jlc3VsdC5Ob2lzeVJlcG9ydFJlc3VsdFZhbHVlcy5Ob2lzeU1ldHJpY1NldC5SZWFjaFJlc3VsdFIFcmVhY2gSxQEKE2ZyZXF1ZW5jeV9oaXN0b2dyYW0YAiABKAsykwEud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXBvcnRSZXN1bHQuUmVwb3J0aW5nU2V0UmVzdWx0LlJlcG9ydGluZ1dpbmRvd1Jlc3VsdC5Ob2lzeVJlcG9ydFJlc3VsdFZhbHVlcy5Ob2lzeU1ldHJpY1NldC5IaXN0b2dyYW1SZXN1bHRSEmZyZXF1ZW5jeUhpc3RvZ3JhbRLFAQoQaW1wcmVzc2lvbl9jb3VudBgDIAEoCzKZAS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlcG9ydFJlc3VsdC5SZXBvcnRpbmdTZXRSZXN1bHQuUmVwb3J0aW5nV2luZG93UmVzdWx0Lk5vaXN5UmVwb3J0UmVzdWx0VmFsdWVzLk5vaXN5TWV0cmljU2V0LkltcHJlc3Npb25Db3VudFJlc3VsdFIPaW1wcmVzc2lvbkNvdW50GkUKFFVuaXZhcmlhdGVTdGF0aXN0aWNzEi0KEnN0YW5kYXJkX2RldmlhdGlvbhgBIAEoAVIRc3RhbmRhcmREZXZpYXRpb24a9AEKC1JlYWNoUmVzdWx0EhQKBXZhbHVlGAEgASgDUgV2YWx1ZRLOAQoVdW5pdmFyaWF0ZV9zdGF0aXN0aWNzGAIgASgLMpgBLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSZXN1bHQuTm9pc3lSZXBvcnRSZXN1bHRWYWx1ZXMuTm9pc3lNZXRyaWNTZXQuVW5pdmFyaWF0ZVN0YXRpc3RpY3NSFHVuaXZhcmlhdGVTdGF0aXN0aWNzGq8FCg9IaXN0b2dyYW1SZXN1bHQSxQEKC2Jpbl9yZXN1bHRzGAEgAygLMqMBLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSZXN1bHQuTm9pc3lSZXBvcnRSZXN1bHRWYWx1ZXMuTm9pc3lNZXRyaWNTZXQuSGlzdG9ncmFtUmVzdWx0LkJpblJlc3VsdHNFbnRyeVIKYmluUmVzdWx0cxryAQoJQmluUmVzdWx0EhQKBXZhbHVlGAEgASgBUgV2YWx1ZRLOAQoVdW5pdmFyaWF0ZV9zdGF0aXN0aWNzGAIgASgLMpgBLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSZXN1bHQuTm9pc3lSZXBvcnRSZXN1bHRWYWx1ZXMuTm9pc3lNZXRyaWNTZXQuVW5pdmFyaWF0ZVN0YXRpc3RpY3NSFHVuaXZhcmlhdGVTdGF0aXN0aWNzGt4BCg9CaW5SZXN1bHRzRW50cnkSEAoDa2V5GAEgASgJUgNrZXkStAEKBXZhbHVlGAIgASgLMp0BLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSZXN1bHQuTm9pc3lSZXBvcnRSZXN1bHRWYWx1ZXMuTm9pc3lNZXRyaWNTZXQuSGlzdG9ncmFtUmVzdWx0LkJpblJlc3VsdFIFdmFsdWU6AjgBGv4BChVJbXByZXNzaW9uQ291bnRSZXN1bHQSFAoFdmFsdWUYASABKANSBXZhbHVlEs4BChV1bml2YXJpYXRlX3N0YXRpc3RpY3MYAiABKAsymAEud2ZhLm1lYXN1cmVtZW50LmludGVybmFsLnJlcG9ydGluZy52Mi5SZXBvcnRSZXN1bHQuUmVwb3J0aW5nU2V0UmVzdWx0LlJlcG9ydGluZ1dpbmRvd1Jlc3VsdC5Ob2lzeVJlcG9ydFJlc3VsdFZhbHVlcy5Ob2lzeU1ldHJpY1NldC5Vbml2YXJpYXRlU3RhdGlzdGljc1IUdW5pdmFyaWF0ZVN0YXRpc3RpY3MalAIKElJlcG9ydFJlc3VsdFZhbHVlcxJ6ChJjdW11bGF0aXZlX3Jlc3VsdHMYASABKAsySy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwLk1ldHJpY1NldC5CYXNpY01ldHJpY1NldFIRY3VtdWxhdGl2ZVJlc3VsdHMSgQEKFm5vbl9jdW11bGF0aXZlX3Jlc3VsdHMYAiABKAsySy53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlc3VsdEdyb3VwLk1ldHJpY1NldC5CYXNpY01ldHJpY1NldFIUbm9uQ3VtdWxhdGl2ZVJlc3VsdHMa9AEKFFJlcG9ydGluZ1dpbmRvd0VudHJ5EmgKA2tleRgBIAEoCzJWLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSA2tleRJyCgV2YWx1ZRgCIAEoCzJcLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdC5SZXBvcnRpbmdXaW5kb3dSZXN1bHRSBXZhbHVlGtQBChdSZXBvcnRpbmdTZXRSZXN1bHRFbnRyeRJbCgNrZXkYASABKAsySS53ZmEubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyLlJlcG9ydFJlc3VsdC5SZXBvcnRpbmdTZXRSZXN1bHRLZXlSA2tleRJcCgV2YWx1ZRgCIAEoCzJGLndmYS5tZWFzdXJlbWVudC5pbnRlcm5hbC5yZXBvcnRpbmcudjIuUmVwb3J0UmVzdWx0LlJlcG9ydGluZ1NldFJlc3VsdFIFdmFsdWUiWwoVVmVubkRpYWdyYW1SZWdpb25UeXBlEigKJFZFTk5fRElBR1JBTV9SRUdJT05fVFlQRV9VTlNQRUNJRklFRBAAEgkKBVVOSU9OEAESDQoJUFJJTUlUSVZFEAIqcQoQUmVwb3J0UmVzdWx0VmlldxIiCh5SRVBPUlRfUkVTVUxUX1ZJRVdfVU5TUEVDSUZJRUQQABIcChhSRVBPUlRfUkVTVUxUX1ZJRVdfTk9JU1kQARIbChdSRVBPUlRfUkVTVUxUX1ZJRVdfRlVMTBACQjAKLG9yZy53ZmFuZXQubWVhc3VyZW1lbnQuaW50ZXJuYWwucmVwb3J0aW5nLnYyUAFiBnByb3RvMw==';

START BATCH DDL;

ALTER PROTO BUNDLE INSERT (
  `wfa.measurement.internal.reporting.v2.ReportResult`,
  `wfa.measurement.internal.reporting.v2.ReportResult.VennDiagramRegionType`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResultKey`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindow`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet.UnivariateStatistics`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet.ReachResult`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet.HistogramResult`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet.HistogramResult.BinResult`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet.HistogramResult.BinResultsEntry`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet.ImpressionCountResult`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.ReportResultValues`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowEntry`,
  `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResultEntry`,
);

-- There is one in memory table that provides an GroupingDimensionFingerprint
-- for use in the tables below as a join key.
--
-- This field is a 64-bit integer that represents a combination of grouping dimensions.
-- For example if we have age bucket and gender dimensions each combination of their
-- values is assigned a unique integer. For example the combination (AGE_18_24, F)
-- is assigned a unique integer as does (AGE_18_24, null), in which case this includes
-- al values of the gender dimension in the grouping.
-- This allows for two things:
 --   1. a more efficient join of results
 --   2. a way to easily track versions of Event Templates
 -- The fingerprint considers the combination of dimension values as well as the Event Template
 -- version.

-- This table is the root for all of the Results associated with a Basic Report and in the
-- future an Advanced Report or Report Cube.
CREATE TABLE ReportResults (
  MeasurementConsumerId INT64 NOT NULL,
  ReportResultId INT64 NOT NULL,
  ExternalReportResultId INT64 NOT NULL,
  -- This is the start time of the set of results. Dates in subtables
  -- are with respect to the time defined by this timestamp. This is also
  -- used to indicate the start date for cumulative results in the child tables
  ReportIntervalStartTime TIMESTAMP NOT NULL,
  -- The time that this row was created.
  CreateTime TIMESTAMP NOT NULL OPTIONS (allow_commit_timestamp = true),
) PRIMARY KEY (MeasurementConsumerId, ReportResultId),
  INTERLEAVE IN PARENT MeasurementConsumers ON DELETE CASCADE;
-- Ensure uniqueness and fast lookups of the ExternalReportResultId
CREATE UNIQUE INDEX ReportResultsByExternalReportResultId
    ON ReportResults (MeasurementConsumerId, ExternalReportResultId);

-- Each row of this table represents the Results for a particular ReportingSet Venn diagram
-- region that is entailed by the Report.
--
-- This being a child table of the above ensures that results for the entire Report are
-- physically nearby.
CREATE TABLE ReportingSetResults(
  MeasurementConsumerId INT64 NOT NULL,
  ReportResultId INT64 NOT NULL,
  ReportingSetResultId INT64 NOT NULL,
  -- A reference to the ExternalReportingSetId in the Postgres database.
  -- Corresponds to the ReportingSet for which the results are computed.
  -- We expect that all ReportingSets referenced here represent only unions of
  -- EventGroups.
 ExternalReportingSetId STRING(63) NOT NULL,
  -- Corresponds to the enum VennDiagramRegionType in report_results.proto.
  -- The VennDiagram region type may only be PRIMITIVE when the ReportingSet was
  -- passed in by the user, or in the case of BasicReport, when it corresponds to
  -- exactly one DataProvider. ReportingSets created as a side effect of Report creation
  -- should always be type UNION.
  VennDiagramRegionType `wfa.measurement.internal.reporting.v2.ReportResult.VennDiagramRegionType` NOT NULL,
  -- The ID of ImpressionQualificationFilter for which the set of results was computed.
  -- In the future this column could be nullable if we decide to make IQFs optional and/or
  -- deprecate them. We limit the use of Custom IQFs to a single filter. When the filter is
  -- custom the value of this column will be -1
  -- If the future additional negative values could indicate more custom filters.
  ImpressionQualificationFilterId INT64 NOT NULL,
  -- Frequency specification.
  MetricFrequencySpec `wfa.measurement.internal.reporting.v2.MetricFrequencySpec` NOT NULL,
  -- Fingerprint of MetricFrequencySpec. Note that this inherently cannot depend on protobuf
  -- serialization as that is non-deterministic.
  MetricFrequencySpecFingerprint INT64 NOT NULL,
  -- The grouping dimension.
  -- See the comment at the top of this file related to this field.
  GroupingDimensionFingerprint INT64 NOT NULL,
 -- The fingerprint of the canonicalized EventFilter proto that was used to create
 -- the results. This requires a custom deterministic serialization of the protobuf
 -- prior to fingerprinting. It does not include any filters implied by the IQF.
 -- This field is NULL if no filters were applied.
 FilterFingerprint INT64,
 -- The actual filters used
 EventFilters ARRAY<`wfa.measurement.internal.reporting.v2.EventFilter`>,
 -- The population size associated with the results
 PopulationSize INT64 NOT NULL,
 -- The creation time of this row.
 CreateTime TIMESTAMP NOT NULL OPTIONS (allow_commit_timestamp = true),
) PRIMARY KEY (MeasurementConsumerId, ReportResultId, ReportingSetResultId),
  INTERLEAVE IN PARENT ReportResults ON DELETE CASCADE;
-- Ensure non-primary key dimensions are unique with respect to the parent.
CREATE UNIQUE INDEX ReportingSetResultsByDimensions
    ON ReportingSetResults(
    MeasurementConsumerId, ReportResultId,
    ExternalReportingSetId, VennDiagramRegionType,
    ImpressionQualificationFilterId, MetricFrequencySpecFingerprint,
    GroupingDimensionFingerprint, FilterFingerprint),
 INTERLEAVE IN ReportResults;

-- Represents the results for each reporting window associated with each
-- ReportingSetResult.
CREATE TABLE ReportingWindowResults(
  MeasurementConsumerId INT64 NOT NULL,
  ReportResultId INT64 NOT NULL,
  ReportingSetResultId INT64 NOT NULL,
  ReportingWindowResultId INT64 NOT NULL,
  -- The start date for non-cumulative results in this row
  ReportingWindowStartDate DATE,
  -- The end date for results in this row
  ReportingWindowEndDate DATE NOT NULL,
 -- The creation time of this row.
 CreateTime TIMESTAMP NOT NULL OPTIONS (allow_commit_timestamp = true),
 ) PRIMARY KEY (MeasurementConsumerId, ReportResultId,
               ReportingSetResultId, ReportingWindowResultId),
   INTERLEAVE IN PARENT ReportingSetResults ON DELETE CASCADE;
-- Ensure non-primary key dimensions are unique with respect to the parent.
CREATE UNIQUE INDEX ReportingWindowResultsByDates
     ON ReportingWindowResults(
     MeasurementConsumerId, ReportResultId,
     ReportingSetResultId, ReportingWindowStartDate,
     ReportingWindowEndDate),
  INTERLEAVE IN ReportingSetResults;

-- Contains denoised values. We expect all derived metrics to be present in the cumulative
-- and non-cumulative columns regardless of whether they were explicitly requested via the
-- API. Both CumulativeResults and NonCumulativeResults must not be null.
CREATE TABLE ReportResultValues (
  MeasurementConsumerId INT64 NOT NULL,
  ReportResultId INT64 NOT NULL,
  ReportingSetResultId INT64 NOT NULL,
  ReportingWindowResultId INT64 NOT NULL,
   -- Denoised cumulative results for the window represented by the parent table
  CumulativeResults `wfa.measurement.internal.reporting.v2.ResultGroup.MetricSet.BasicMetricSet`,
  -- Denoised non-cumulative results for the window represented by the parent table.
  NonCumulativeResults `wfa.measurement.internal.reporting.v2.ResultGroup.MetricSet.BasicMetricSet`,
  -- The creation time of this row.
  CreateTime TIMESTAMP NOT NULL OPTIONS (allow_commit_timestamp = true),
) PRIMARY KEY (MeasurementConsumerId, ReportResultId, ReportingSetResultId,
               ReportingWindowResultId),
  INTERLEAVE IN PARENT ReportingWindowResults ON DELETE CASCADE;

-- Contains noisy values. We do not expected this table to contain any derived metrics.
-- Both CumulativeResults and NonCumulativeResults must not be null.
CREATE TABLE NoisyReportResultValues (
  MeasurementConsumerId INT64 NOT NULL,
  ReportResultId INT64 NOT NULL,
  ReportingSetResultId INT64 NOT NULL,
  ReportingWindowResultId INT64 NOT NULL,
  -- Noisy cumulative results for the window represented by the parent table.
  -- Only non-derived metrics will be present.
  CumulativeResults `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet`,
  -- Noisy non-cumulative results for the window represented by the parent table.
  -- Only non-derived metrics will be present.
  NonCumulativeResults `wfa.measurement.internal.reporting.v2.ReportResult.ReportingSetResult.ReportingWindowResult.NoisyReportResultValues.NoisyMetricSet`,
  -- The creation time of this row.
  CreateTime TIMESTAMP NOT NULL OPTIONS (allow_commit_timestamp = true),
) PRIMARY KEY (MeasurementConsumerId, ReportResultId, ReportingSetResultId,
                ReportingWindowResultId),
  INTERLEAVE IN PARENT ReportingWindowResults ON DELETE CASCADE;

ALTER TABLE BasicReports ADD COLUMN ReportResultId INT64;
ALTER TABLE BasicReports ALTER COLUMN BasicReportResultDetails
 `wfa.measurement.internal.reporting.v2.BasicReportResultDetails`;

RUN BATCH;
